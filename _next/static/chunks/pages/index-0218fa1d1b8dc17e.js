(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(6547)}])},702:function(e,t,n){"use strict";n.d(t,{p:function(){return s}});var a=n(7568),r=n(655),i=Math.PI/180;function o(){return(o=(0,a.Z)(function(e,t,n){var a,o,c,s,l,d,u,h,m,f,p,x=arguments;return(0,r.__generator)(this,function(r){if(a=x.length>3&&void 0!==x[3]?x[3]:1,o=x.length>4&&void 0!==x[4]?x[4]:0,!(c=t.getContext("2d")))throw Error("No 2d context");return s=e.naturalWidth/e.width,l=e.naturalHeight/e.height,d=window.devicePixelRatio,t.width=Math.floor(n.width*s*d),t.height=Math.floor(n.height*l*d),c.scale(d,d),c.imageSmoothingQuality="high",u=n.x*s,h=n.y*l,m=o*i,f=e.naturalWidth/2,p=e.naturalHeight/2,c.save(),c.translate(-u,-h),c.translate(f,p),c.rotate(m),c.scale(a,a),c.translate(-f,-p),c.drawImage(e,0,0,e.naturalWidth,e.naturalHeight,0,0,e.naturalWidth,e.naturalHeight),c.restore(),[2]})})).apply(this,arguments)}var c="";function s(e,t){return l.apply(this,arguments)}function l(){return(l=(0,a.Z)(function(e,t){var n,a,i,c,s=arguments;return(0,r.__generator)(this,function(r){switch(r.label){case 0:var l;return n=s.length>2&&void 0!==s[2]?s[2]:1,a=s.length>3&&void 0!==s[3]?s[3]:0,!function(e,t,n){return o.apply(this,arguments)}(e,i=document.createElement("canvas"),t,n,a),[4,(l=i,new Promise(function(e){l.toBlob(e)}))];case 1:if(!(c=r.sent()))return console.error("Failed to create blob"),[2,""];return[2,URL.createObjectURL(c)]}})})).apply(this,arguments)}},6547:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var a=n(9815),r=n(5893),i=n(9008),o=n.n(i),c=n(214),s=n.n(c),l=n(7294),d=n(828),u=n(1330),h=function(e){var t=0,n=0,a=new Set;if(e.length>12)return!1;var r=!0,i=!1,o=void 0;try{for(var c,s=e[Symbol.iterator]();!(r=(c=s.next()).done);r=!0){var l,d,u=c.value;switch(!0){case 1===u.length&&(u>="a"&&u<="z"||u>="A"&&u<="Z"):a.add(u),n+=1;break;case 1===u.length&&u>="0"&&u<="9":t+=1;break;default:return!1}if(t>3)return!1}}catch(h){i=!0,o=h}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return!(a.size/n<.5)},m=function(e){var t=0;return e.forEach(function(e){h(e)&&(t+=1)}),t/e.length>.9},f=n(6120),p=n.n(f);n(1919);var x=n(702),g=n(5788);function j(e){var t,n,a=function(){c&&(0,x.p)(m.current,c,1,0).then(function(e){f.push(u),h(e),s(void 0)})},i=function(){h(f.pop()),s(void 0)},o=(0,l.useState)(),c=o[0],s=o[1],d=(0,l.useState)(e.imgUrl),u=d[0],h=d[1],m=(0,l.useRef)(null),f=(0,l.useRef)([]).current,j=(0,l.useState)(500),v=j[0],b=j[1];e.horizontal?(t=v,n=e.height):(t=e.width,n=v);var w=function(e){var t,n=(t=parseFloat(e),parseFloat(t.toFixed(2)));b(n)};console.log(c);var N=e.horizontal?"h":"v",y=(0,r.jsxs)("div",{className:"crop-ctrl-".concat(N),children:[(0,r.jsx)("button",{onClick:function(e){return a()},disabled:!c,children:(0,r.jsx)(g.IpJ,{className:"d-icon"})}),(0,r.jsx)("input",{type:"number",className:"input-wh",value:v,min:"50",step:"50",onChange:function(e){w(e.target.value)}}),f.length>0&&(0,r.jsx)("button",{onClick:function(e){return i()},children:(0,r.jsx)(g.Z4w,{className:"d-icon"})})]});return(0,r.jsxs)("div",{className:"dendro-comp-".concat(N),children:[e.horizontal&&y,(0,r.jsx)(p(),{crop:c,onChange:function(e){return s(e)},children:(0,r.jsx)("img",{ref:m,src:u,style:{width:t,height:n}})}),!e.horizontal&&y]})}var v=n(8085);function b(e){var t,n,i,o,c,s=function(){var e="whole"===f.id?f.id:p[f.id].name,t=Object.values(p).filter(function(e){return e.leaf});t.sort(function(e,t){return $.current(e)-$.current(t)});var n=t.map(function(e){return"".concat(e.name)}).join("\n"),a=new Blob([n]),r=document.createElement("a");r.download="".concat(e,".tsv"),r.href=window.URL.createObjectURL(a),r.click(),r.remove()},h=function(){var e="whole"===f.id?f.id:p[f.id].name,t=document.querySelector('[name="'.concat(f.id,'"]'));t.setAttribute("xmlns","http://www.w3.org/2000/svg");var n=t.outerHTML,a=new Blob([n.toString()]),r=document.createElement("a");r.download="".concat(e,".svg"),r.href=window.URL.createObjectURL(a),r.click(),r.remove()},f=e.data,p=f.mp,x="black",b=f.color?f.color:x,w=(0,l.useState)(b),N=w[0],y=w[1],k=void 0===f.horizontal||f.horizontal,_=(0,l.useState)(k),C=_[0],E=_[1],S=(0,l.useState)(!1),T=S[0],A=S[1],z=(0,l.useState)(!1),H=z[0],R=z[1],I={},V=Object.values(p).filter(function(e){return e.leaf}).sort(function(e,t){return e.x-t.x}).map(function(e){return e.name}),U=Object.keys(p),D=0;U.forEach(function(e){I[e]={},p[e].leaf&&(D+=1)});var O=(0,l.useRef)(I).current,F=(0,l.useState)(f.clusterWidth?f.clusterWidth:k?300:500),Y=F[0],L=F[1],W=(0,l.useState)(f.clusterHeight?f.clusterHeight:k?500:300),Z=W[0],B=W[1];C?(n=(t=Z/(D-1))/2,i=t,o=Y+t,c=Z+t):(i=(t=Y/(D-1))/2,n=t,o=Y+t,c=Z+t);var M=(0,l.useRef)(),P=(0,l.useRef)(),J=(0,l.useRef)(),G=(0,l.useRef)(),$=(0,l.useRef)(),Q=(0,l.useState)(),X=Q[0],q=Q[1],K=u.Fp7(U.map(function(e){return parseInt(e)})).toString(),ee=(0,d.Z)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=["#1f77b4","#ff7f0e","#2ca02c","#e377c2","#9467bd","#8c564b","#d62728","#cab2d6","#bcbd22","#17becf","#a6cee3","#b2df8a"].filter(function(t){return t!==e}),r=(0,l.useState)(u.w6H(n.length*t)),i=r[0],o=r[1];return[function(){if(i.length<1)throw"colors exhausted! Support at most ".concat(n.length*t," selections");var e=i.shift(),r=n[e%n.length];return o((0,a.Z)(i)),[e,r]},function(e){i.unshift(e),o((0,a.Z)(i))}]}(N),2),et=ee[0],en=ee[1],ea=(0,l.useState)(),er=ea[0],ei=ea[1],eo=function(){E(!C),B(Y),L(Z)},ec=function(){var t,n,a={},r=p[X];r.joints.concat(r.leaves).forEach(function(e){a[e]=p[e]}),C?(t=r.leaves.length/p[K].leaves.length*Z,n=r.y/p[K].y*Y):(t=r.y/p[K].y*Z,n=r.leaves.length/p[K].leaves.length*Y);var i={id:X,mp:a,clusterHeight:parseFloat(t.toFixed(2)),clusterWidth:parseFloat(n.toFixed(2)),horizontal:C,color:O[X].color};e.addData(i)};(0,l.useEffect)(function(){var e,t,a,r,s=u.Ys('[name="'.concat(f.id,'"]')).attr("width",o).attr("height",c).style("background","white");s.on("click",function(e,t){console.log("background click"),q(void 0),J.current&&J.current.attr("opacity",0),J.current=void 0});var l=s.append("g").attr("transform","translate(".concat(i,",").concat(n,")")),d=[],h=[];U.forEach(function(e){var t=p[e];d.push(t.x),h.push(t.y)});var m=[u.VV$(d),u.Fp7(d)],g=m[0],j=m[1],v=[u.VV$(h),u.Fp7(h)],b=v[0],w=v[1];C?(e=u.BYU([Y,0]).domain([b,w]),t=u.BYU([0,Z]).domain([g,j]),a=function(t){return e(t.y)},r=function(e){return t(e.x)},$.current=r):(e=u.BYU([0,Y]).domain([g,j]),t=u.BYU([Z,0]).domain([b,w]),a=function(t){return e(t.x)},r=function(e){return t(e.y)},$.current=a);var y=function(e){var t=p[e],n=p[t.link[0]],i=p[t.link[1]];return C?"M ".concat(a(n)," ").concat(r(n),"\n                    H ").concat(a(t),"\n                    V ").concat(r(i),"\n                    H ").concat(a(i)):"M ".concat(a(n)," ").concat(r(n),"\n                    V ").concat(r(t),"\n                    H ").concat(a(i),"\n                    V ").concat(r(i))},k=u.BYU([.5,2]).domain([1e3,5]).clamp(!0)(U.length),_=l.selectAll("path").data(U.filter(function(e){return!p[e].leaf})).enter().append("path").attr("d",function(e){return y(e)}).style("fill","none").style("stroke",function(e){return O[e].color?O[e].color:N}).style("stroke-width",k);M.current=_;var E=l.selectAll("circle").data(U.filter(function(e){return!p[e].leaf})).enter().append("circle").attr("cx",function(e){return a(p[e])}).attr("cy",function(e){return r(p[e])}).attr("r",4).attr("fill",x).attr("opacity",function(e){return O[e].clicked&&e===X?1:0});return E.append("title").text(function(e){return p[e].id===p[e].name?p[e].id:"".concat(p[e].id," ").concat(p[e].name)}),P.current=E,function(){l.remove()}},[Y,Z,C]),(0,l.useEffect)(function(){if(console.log("effect2"),P.current){var e,t,n,a,r,i,o,c,s,l=(0,d.Z)((n=O,o=J,[function(e,t){n[t].clicked=!0;var a=(0,d.Z)(et(),2),r=a[0],i=a[1];n[t].initColorIndex=r,q(t),ei(i),o.current&&o.current.attr("opacity",0),o.current=u.Ys(e.currentTarget),M.current.filter(function(e){return p[t].joints.includes(e)}).style("stroke",i).each(function(e){n[e].color=i,e!==t&&(n[e].parentClicked=!0,n[e].clicked&&en(n[e].initColorIndex),n[e].clicked=!1)})},function(e,t){q(void 0),n[t].clicked=!1,en(n[t].initColorIndex),n[t].initColorIndex=void 0,M.current.filter(function(e){return p[t].joints.includes(e)}).style("stroke",N).each(function(e){n[e].color=N,n[e].parentClicked=!1}),o.current=void 0},function(e,t){q(t),ei(n[t].color),o.current&&o.current.attr("opacity",0),o.current=u.Ys(e.currentTarget)}]),3),h=l[0],m=l[1],f=l[2];P.current.on("mouseover",function(e,t){G.current=M.current.filter(function(e){return p[t].joints.includes(e)}).style("stroke","red"),u.Ys(e.currentTarget).attr("opacity",1)}).on("mouseout",function(e,t){G.current.style("stroke",function(e){return O[e].color?O[e].color:N}),t!==X&&u.Ys(e.currentTarget).attr("opacity",0)}).on("click",function(e,t){if(!O[t].parentClicked)switch(e.stopPropagation(),!0){case!O[t].clicked:h(e,t);break;case t===X:m(e,t);break;default:f(e,t)}})}},[X,T,Y,Z,C]),(0,l.useEffect)(function(){X&&er!==O[X].color&&(O[X].color=er,M.current.filter(function(e){return p[X].joints.includes(e)}).style("stroke",er).each(function(e){O[e].color=er}))},[er]),(0,l.useEffect)(function(){T&&(M.current&&M.current.style("stroke",x),q(void 0),U.forEach(function(e){O[e].clicked&&en(O[e].initColorIndex),O[e]={}}),J.current&&J.current.attr("opacity",0),J.current=void 0,y(x),A(!1))},[T]),(0,l.useEffect)(function(){P.current&&P.current.selectChild().text(function(e){return p[e].id===p[e].name?p[e].id:"".concat(p[e].id," ").concat(p[e].name)})},[e.gc]);var es=function(t){p[f.id].name=t.value,e.setGc(e.gc+1)},el=C?"h":"v",ed=1===e.countData()?"":"m",eu=function(){var e=document.createElement("form");e.setAttribute("method","post"),e.setAttribute("action","http://amp.pharm.mssm.edu/Enrichr/enrich"),e.setAttribute("target","_blank"),e.setAttribute("enctype","multipart/form-data");var t=document.createElement("input");t.setAttribute("type","hidden"),t.setAttribute("name","list"),t.setAttribute("value",V.join("\n")),e.appendChild(t);var n=document.createElement("input");n.setAttribute("type","hidden"),n.setAttribute("name","description"),n.setAttribute("value",f.id),e.appendChild(n),document.body.appendChild(e),e.submit(),document.body.removeChild(e)};return(0,r.jsxs)("div",{className:"dendro-div-".concat(el).concat(ed),children:[(0,r.jsxs)("div",{className:"dendro-comp-".concat(el),children:[(0,r.jsxs)("div",{className:"dendro-ctrl-".concat(el),children:["whole"!==f.id&&(0,r.jsxs)("span",{children:[(0,r.jsx)(v.y,{style:{width:"50px"},defaultValue:p[f.id].name,inline:!0,onSave:es}),(0,r.jsx)("button",{onClick:function(t){return e.rmData(f.id)},children:(0,r.jsx)(g.$iT,{className:"d-icon"})})]}),(0,r.jsxs)("button",{onClick:function(e){return A(!0)},children:[" ",(0,r.jsx)(g._W0,{className:"d-icon"})," "]}),m(V)&&(0,r.jsx)("button",{onClick:function(e){return eu()},children:(0,r.jsx)(g.RcW,{className:"d-icon"})}),(0,r.jsx)("button",{onClick:function(e){return R(!H)},style:H?{background:"#ffe3a9"}:{},children:(0,r.jsx)(g.xs2,{className:"d-icon"})}),(0,r.jsxs)("button",{onClick:function(e){return s()},children:[(0,r.jsx)(g.hiA,{className:"d-icon"}),(0,r.jsx)(g.xbJ,{className:"d-icon"})]}),(0,r.jsxs)("button",{onClick:function(e){return h()},children:[(0,r.jsx)(g.hiA,{className:"d-icon"}),(0,r.jsx)(g.Qz$,{className:"d-icon"})]}),(0,r.jsx)("button",{onClick:function(e){return eo()},children:C?(0,r.jsx)(g.NqI,{className:"d-icon"}):(0,r.jsx)(g.vCY,{className:"d-icon"})}),(0,r.jsx)("input",{type:"number",className:"input-wh",value:Y,min:"50",step:"50",onChange:function(e){L(parseFloat(e.target.value))}}),(0,r.jsx)("input",{type:"number",className:"input-wh",value:Z,min:"50",step:"50",onChange:function(e){B(parseFloat(e.target.value))}}),X&&(0,r.jsxs)("span",{children:[(0,r.jsx)("button",{onClick:function(e){return ec()},disabled:e.hasDendro(X),children:(0,r.jsx)(g.AE5,{className:"d-icon"})}),(0,r.jsx)("span",{className:"ctrl-info",children:p[X].name}),(0,r.jsx)("input",{style:{height:"23px",width:"48px"},type:"color",onChange:function(e){return ei(e.target.value)},value:er})]})]}),(0,r.jsxs)("div",{className:"dendro-svg-div-".concat(el),children:[H&&(0,r.jsx)("textarea",{style:{height:"".concat(c,"px")},readOnly:!0,value:V.join("\n")}),(0,r.jsx)("svg",{name:f.id,className:"dendro-svg-".concat(el)})]})]}),f.imgUrl&&(0,r.jsx)(j,{horizontal:C,width:o,height:c,imgUrl:f.imgUrl})]})}function w(){var e=["OS","Version","Chrome","Firefox","Microsoft Edge","Safari"].map(function(e){return(0,r.jsx)("td",{children:e},e)}),t=[["Linux","Debian 11"," 108.0.5359.94","not work*","n/a","n/a"],["MacOS","Monterey"," 108.0.5359.98","107.0.1","n/a","15.4"],["Windows","10"," 108.0.5359.73","107.0.1","107.0.1418.62","n/a"]].map(function(e){return(0,r.jsx)("tr",{children:e.map(function(e,t){return(0,r.jsx)("td",{children:e},e+t)})},e.join(""))});return(0,r.jsxs)("div",{className:"help-container",children:[(0,r.jsx)("div",{className:"help-row",children:"DendroX provides interactive visualization of a dendrogram where users can select and subset the dendrogram at any level and in any number of clusters. The labels of the selected clusters can then be passed for functional analysis."}),(0,r.jsxs)("div",{className:"help-row",children:[(0,r.jsx)("span",{className:"row-head",children:"JSON file:"})," A file that describes a dendrogram in JSON format. It should be output from the R or Python get_json function provided by us. The function accept return value from the Python seaborn.clustermap or R pheatmap function as argument. Demos and example input files could be found  ",(0,r.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/frlender/dendrox-app/tree/main/input_demo",children:"here"}),". "]}),(0,r.jsxs)("div",{className:"help-row",children:[(0,r.jsx)("span",{className:"row-head",children:"Image file:"})," An optional .png or .jpg image file that contains the heatmap associated with the dendrogram. Usually, they are the plotted images of the clustermap or pheatmap function. "]}),(0,r.jsxs)("div",{className:"help-row",children:[(0,r.jsx)("span",{className:"row-head",children:"Horizontal Example:"})," Example of a row dendrogram. "]}),(0,r.jsxs)("div",{className:"help-row",children:[(0,r.jsx)("span",{className:"row-head",children:"Vertical Example:"})," Example of a column dendrogram.  "]}),(0,r.jsxs)("div",{className:"help-row",children:[(0,r.jsx)("span",{className:"row-head",children:"2k Example:"})," Example of a row dendrogram with 2,000 leaf nodes.  "]}),(0,r.jsx)("div",{className:"help-row help-extra2",children:"After a JSON file is selected:"}),(0,r.jsxs)("div",{className:"help-row",children:[(0,r.jsx)("span",{className:"row-head",children:"Visualize:"})," Visualize the dendrogram described in the JSON file."]}),(0,r.jsxs)("div",{className:"help-row",children:[(0,r.jsx)("span",{className:"row-head",children:"Horizontal:"})," Visualize it as a row dendrogram. Default."]}),(0,r.jsxs)("div",{className:"help-row",children:[(0,r.jsx)("span",{className:"row-head",children:"Vertical:"})," Visualize it as a column dendrogram."]}),(0,r.jsx)("div",{className:"help-row help-extra2",children:"Browser Compatibility:"}),(0,r.jsxs)("div",{className:"help-row",children:[(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsx)("tr",{children:e})}),(0,r.jsx)("tbody",{children:t})]}),(0,r.jsx)("div",{className:"help-annot",children:"*The app is functional. But because of some default CSS settings we can not change, the dendrogram and the heatmap do not align well with each other."})]})]})}function N(){return(0,r.jsxs)("div",{className:"help-container",children:[(0,r.jsx)("div",{className:"help-row",children:"Mouse over a non-leaf node in the dendrogram to highlight a cluster. Click on the non-leaf node to select the cluster. Click again to unselect it. Click on any white space to unfocus a selected non-leaf node. The app will automatically assign a color to a clicked cluster. If a cluster heatmap image is provided in the input, drag your mouse over the image to select and crop the area covering the heatmap. The dendrogram should be aligned with the heatmap in the cropped image."}),(0,r.jsxs)("div",{className:"help-row",children:[(0,r.jsx)("button",{children:(0,r.jsx)(g._W0,{className:"d-icon"})})," :  The reset button. Remove any selection on the dendrogram and reset it to the initial state. "]}),(0,r.jsxs)("div",{className:"help-row",children:[(0,r.jsx)("button",{children:(0,r.jsx)(g.RcW,{className:"d-icon"})})," : The Enichr button. Pass the labels of the leaf nodes as gene symbols to the ",(0,r.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://maayanlab.cloud/Enrichr/",children:"Enrichr app"})," for enrichment analysis. The app will automatically detect if the labels are gene symbols. If they are not, this button will not appear. ",(0,r.jsx)("span",{className:"row-head",children:"Caution! : the Enrichr app may save your gene list in its server."})]}),(0,r.jsxs)("div",{className:"help-row",children:[(0,r.jsx)("button",{children:(0,r.jsx)(g.xs2,{className:"d-icon"})})," : The view button. View the the labels of the leaf nodes in a text box on the left. Click again to close the box. "]}),(0,r.jsxs)("div",{className:"help-row",children:[(0,r.jsxs)("button",{children:[(0,r.jsx)(g.hiA,{className:"d-icon"}),(0,r.jsx)(g.xbJ,{className:"d-icon"})]}),' :  The label download button. Download the labels as a newline character delimited text file. The file name will be the name of the root non-leaf node. "whole" is the default name for the entire dendrogram.']}),(0,r.jsxs)("div",{className:"help-row",children:[(0,r.jsxs)("button",{children:[(0,r.jsx)(g.hiA,{className:"d-icon"}),(0,r.jsx)(g.Qz$,{className:"d-icon"})]}),' : The SVG download button. Download the dendrogram as a SVG file edittable in Adobe Illustrator and Inkscape. The file name will be the name of the root non-leaf node. "whole" is the default name for the entire dendrogram. ']}),(0,r.jsxs)("div",{className:"help-row",children:[" ",(0,r.jsx)("button",{children:(0,r.jsx)(g.NqI,{className:"d-icon"})})," / ",(0,r.jsx)("button",{children:(0,r.jsx)(g.vCY,{className:"d-icon"})})," : The layout switch button. Switch the dendrogram between the row and the column layout."]}),(0,r.jsxs)("div",{className:"help-row",children:[" ",(0,r.jsx)("input",{type:"number",className:"input-wh",value:300,min:"50",step:"50"}),(0,r.jsx)("input",{type:"number",className:"input-wh",value:500,min:"50",step:"50"}),"  : Control the width and height of the dendrogram."]}),(0,r.jsx)("div",{className:"help-row help-extra",children:" If the input includes an optional image file, the following elements will appear above the image: "}),(0,r.jsxs)("div",{className:"help-row",children:[(0,r.jsx)("button",{children:(0,r.jsx)(g.IpJ,{className:"d-icon"})})," : The crop button. Click to crop after an area is selected in the image. "]}),(0,r.jsxs)("div",{className:"help-row",children:[(0,r.jsx)("input",{type:"number",className:"input-wh",value:550,min:"50",step:"50"}),"  : Control the width or height of the image depending on whether the associated dendrogram is a row or column dendrogram. "]}),(0,r.jsx)("div",{className:"help-row help-extra",children:"After a non-leaf node is clicked, the following elements will appear:"}),(0,r.jsxs)("div",{className:"help-row",children:[(0,r.jsx)("button",{children:(0,r.jsx)(g.AE5,{className:"d-icon"})})," : The cut button. Create a new dendrogram for the selected cluster. It is disabled after creation of the new dendrogram."]}),(0,r.jsxs)("div",{className:"help-row",children:[(0,r.jsx)("span",{className:"ctrl-info",children:"###"})," : The name of the clicked non-leaf node. It is not edittable."]}),(0,r.jsxs)("div",{className:"help-row",children:[(0,r.jsx)("input",{style:{height:"23px",width:"48px"},type:"color",value:"#1f77b4"})," : The color input box. Click to change the automatically assigned color of the selected cluster."]}),(0,r.jsx)("div",{className:"help-row help-extra",children:"After the cut button is clicked and a new dendrogram is created, the following elements will appear above the child dendrogram:"}),(0,r.jsxs)("div",{className:"help-row",children:[(0,r.jsx)(v.y,{style:{width:"50px"},defaultValue:"###",inline:!0})," : The name of the child dendrogram. It is edittable. Any change to the name will be memorized in the parent dendrogram."]}),(0,r.jsxs)("div",{className:"help-row",children:[" ",(0,r.jsx)("button",{children:(0,r.jsx)(g.$iT,{className:"d-icon"})})," : The close button. Close the child dendrogram. "]}),(0,r.jsx)("div",{className:"help-row help-extra",children:"After the image is cropped, the following button will appear:"}),(0,r.jsxs)("div",{className:"help-row",children:[(0,r.jsx)("button",{children:(0,r.jsx)(g.Z4w,{className:"d-icon"})})," : The undo button. Undo the crop action. "]})]})}n(6798);var y=function(){var e=(0,l.useState)([]),t=e[0],n=e[1],i=(0,l.useState)(),c=i[0],d=i[1],u=(0,l.useState)(0),h=u[0],m=u[1],f=(0,l.useState)(!0),p=f[0],x=f[1],j=function(e){"horizontal"===e.target.value?x(!0):x(!1)},v=function(e){t.map(function(e){return e.id}).includes(e.id)||(t.push(e),n((0,a.Z)(t)))},y=function(e){n(t.filter(function(t){return t.id!==e}))},k=function(e){return t.map(function(e){return e.id}).includes(e)},_=function(){return t.length},C=function(e){var t=e.target.files[0];new Response(t).json().then(function(e){d([{id:"whole",mp:e}])})},E=function(e){var t=e.target.files[0];new Response(t).blob().then(function(e){var t=URL.createObjectURL(e);c[0].imgUrl=t,d((0,a.Z)(c))})},S=function(){c[0].horizontal=p,n(c)},T=function(e){var t,a,r,i={row:{file:"nodes_row.json",img:"py_image_50.png"},col:{file:"nodes_col.json",img:"py_image_50.png"},"2k":{file:"nodes_row_2k.json",img:"py_image_2k.png"}};["row","2k"].includes(e)?(t=300,a=500,r=!0):(t=500,a=100,r=!1),fetch(i[e].file).then(function(e){return e.json()}).then(function(o){n([{id:"whole",mp:o,imgUrl:i[e].img,clusterWidth:t,clusterHeight:a,horizontal:r}])})},A=function(e){return(0,r.jsx)(b,{data:e,addData:v,rmData:y,hasDendro:k,countData:_,gc:h,setGc:m},e.id)},z=t.map(A);return(0,l.useEffect)(function(){var e=new Date().getFullYear();document.getElementsByClassName("footer-inner")[0].textContent="2015-".concat(e," 3D Medicines Corporation")},[]),(0,r.jsxs)("div",{className:s().container,children:[(0,r.jsxs)(o(),{children:[(0,r.jsx)("title",{children:"DendroX"}),(0,r.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsxs)("main",{className:0===t.length?s().main:s().main2,children:[(0,r.jsx)("div",{className:"header",children:"DendroX"}),0===t.length&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"input-row",children:[(0,r.jsxs)("div",{className:"input-col",children:[(0,r.jsx)("div",{className:"input-label",children:"JSON file:"}),(0,r.jsx)("input",{className:"input-file",onChange:C,type:"file",accept:".json"})]}),(0,r.jsxs)("div",{className:"input-col",children:[(0,r.jsx)("div",{className:"input-label",children:"Image file (optional):"}),(0,r.jsx)("input",{className:"input-file",onChange:E,type:"file",accept:".png,.jpg"})]}),c&&(0,r.jsxs)("span",{className:"example",children:[(0,r.jsx)("button",{className:"button-big",onClick:function(e){return S()},children:"Visualize"}),(0,r.jsxs)("span",{className:"radios",onChange:j,children:[(0,r.jsx)("input",{type:"radio",className:"radio",name:"layout",defaultChecked:!0,value:"horizontal"}),(0,r.jsxs)("label",{children:["Horizontal",(0,r.jsx)(g.NqI,{className:"input-icon"})]}),(0,r.jsx)("input",{type:"radio",className:"radio",name:"layout",value:"vertical"}),(0,r.jsxs)("label",{children:["Vertical",(0,r.jsx)(g.vCY,{className:"input-icon"})]})]})]}),!c&&(0,r.jsxs)("span",{className:"example",children:[(0,r.jsx)("button",{className:"button-big",onClick:function(e){return T("row")},children:"Horizontal example"}),(0,r.jsx)("button",{className:"button-big",onClick:function(e){return T("col")},children:"Vertical example"}),(0,r.jsx)("button",{className:"button-big",onClick:function(e){return T("2k")},children:"2k example"})]})]}),(0,r.jsx)(w,{})]}),t.length>0&&(0,r.jsx)("div",{className:"dendros-div",children:z})]}),t.length>0&&(0,r.jsx)(N,{}),(0,r.jsx)("footer",{className:"footer",children:(0,r.jsx)("div",{className:"footer-inner",children:"abc corporation"})})]})}},214:function(e){e.exports={container:"Home_container__bCOhY",main:"Home_main__nLjiQ",main2:"Home_main2__gd2dG",footer:"Home_footer____T7K",title:"Home_title__T09hD",description:"Home_description__41Owk",code:"Home_code__suPER",grid:"Home_grid__GxQ85",card:"Home_card___LpL1",logo:"Home_logo__27_tb"}}},function(e){e.O(0,[57,558,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);
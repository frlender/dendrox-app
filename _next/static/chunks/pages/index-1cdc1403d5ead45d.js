(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(6547)}])},702:function(e,t,n){"use strict";n.d(t,{p:function(){return l}});var a=n(7568),r=n(655),o=Math.PI/180;function i(){return(i=(0,a.Z)(function(e,t,n){var a,i,s,l,c,d,u,h,m,f,p,x=arguments;return(0,r.__generator)(this,function(r){if(a=x.length>3&&void 0!==x[3]?x[3]:1,i=x.length>4&&void 0!==x[4]?x[4]:0,!(s=t.getContext("2d")))throw Error("No 2d context");return l=e.naturalWidth/e.width,c=e.naturalHeight/e.height,d=window.devicePixelRatio,t.width=Math.floor(n.width*l*d),t.height=Math.floor(n.height*c*d),s.scale(d,d),s.imageSmoothingQuality="high",u=n.x*l,h=n.y*c,m=i*o,f=e.naturalWidth/2,p=e.naturalHeight/2,s.save(),s.translate(-u,-h),s.translate(f,p),s.rotate(m),s.scale(a,a),s.translate(-f,-p),s.drawImage(e,0,0,e.naturalWidth,e.naturalHeight,0,0,e.naturalWidth,e.naturalHeight),s.restore(),[2]})})).apply(this,arguments)}var s="";function l(e,t){return c.apply(this,arguments)}function c(){return(c=(0,a.Z)(function(e,t){var n,a,o,s,l=arguments;return(0,r.__generator)(this,function(r){switch(r.label){case 0:var c;return n=l.length>2&&void 0!==l[2]?l[2]:1,a=l.length>3&&void 0!==l[3]?l[3]:0,!function(e,t,n){return i.apply(this,arguments)}(e,o=document.createElement("canvas"),t,n,a),[4,(c=o,new Promise(function(e){c.toBlob(e)}))];case 1:if(!(s=r.sent()))return console.error("Failed to create blob"),[2,""];return[2,URL.createObjectURL(s)]}})})).apply(this,arguments)}},6547:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var a=n(9815),r=n(5893),o=n(9008),i=n.n(o),s=n(214),l=n.n(s),c=n(7294),d=n(828),u=n(1330),h=function(e){var t=0,n=0,a=new Set;if(e.length>12)return!1;var r=!0,o=!1,i=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c,d,u=s.value;switch(!0){case 1===u.length&&(u>="a"&&u<="z"||u>="A"&&u<="Z"):a.add(u),n+=1;break;case 1===u.length&&u>="0"&&u<="9":t+=1;break;default:return!1}if(t>3)return!1}}catch(h){o=!0,i=h}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return!(a.size/n<.5)},m=function(e){var t=0;return e.forEach(function(e){h(e)&&(t+=1)}),t/e.length>.9},f=n(6120),p=n.n(f);n(1919);var x=n(702),g=n(5788);function j(e){var t,n,a=function(){s&&(0,x.p)(m.current,s,1,0).then(function(e){f.push(u),h(e),l(void 0)})},o=function(){h(f.pop()),l(void 0)},i=(0,c.useState)(),s=i[0],l=i[1],d=(0,c.useState)(e.imgUrl),u=d[0],h=d[1],m=(0,c.useRef)(null),f=(0,c.useRef)([]).current,j=(0,c.useState)(500),v=j[0],b=j[1];e.horizontal?(t=v,n=e.height):(t=e.width,n=v);var w=function(e){var t,n=(t=parseFloat(e),parseFloat(t.toFixed(2)));b(n)};console.log(s);var N=e.horizontal?"h":"v",y=(0,r.jsxs)("div",{className:"crop-ctrl-".concat(N),children:[(0,r.jsx)("button",{onClick:function(e){return a()},disabled:!s,children:(0,r.jsx)(g.IpJ,{className:"d-icon"})}),(0,r.jsx)("input",{type:"number",className:"input-wh",value:v,min:"50",step:"50",onChange:function(e){w(e.target.value)}}),f.length>0&&(0,r.jsx)("button",{onClick:function(e){return o()},children:(0,r.jsx)(g.Z4w,{className:"d-icon"})})]});return(0,r.jsxs)("div",{className:"dendro-comp-".concat(N),children:[e.horizontal&&y,(0,r.jsx)(p(),{crop:s,onChange:function(e){return l(e)},children:(0,r.jsx)("img",{ref:m,src:u,style:{width:t,height:n}})}),!e.horizontal&&y]})}var v=n(8085);function b(e){var t,n,o,i,s,l=function(){var e="whole"===f.id?f.id:p[f.id].name,t=Object.values(p).filter(function(e){return e.leaf});t.sort(function(e,t){return X.current(e)-X.current(t)});var n=t.map(function(e){return"".concat(e.name)}).join("\n"),a=new Blob([n]),r=document.createElement("a");r.download="".concat(e,".tsv"),r.href=window.URL.createObjectURL(a),r.click(),r.remove()},h=function(){var e="whole"===f.id?f.id:p[f.id].name,t=document.querySelector('[name="'.concat(f.id,'"]'));t.setAttribute("xmlns","http://www.w3.org/2000/svg");var n=t.outerHTML,a=new Blob([n.toString()]),r=document.createElement("a");r.download="".concat(e,".svg"),r.href=window.URL.createObjectURL(a),r.click(),r.remove()},f=e.data,p=f.mp,x="black",b=f.color?f.color:x,w=(0,c.useState)(b),N=w[0],y=w[1],k=void 0===f.horizontal||f.horizontal,_=(0,c.useState)(k),C=_[0],E=_[1],S=(0,c.useState)(!1),T=S[0],A=S[1],z=(0,c.useState)(!1),H=z[0],R=z[1],I={},D=Object.values(p).filter(function(e){return e.leaf}).sort(function(e,t){return e.x-t.x}).map(function(e){return e.name}),U=Object.keys(p),V=0;U.forEach(function(e){I[e]={},p[e].leaf&&(V+=1)});var O=(0,c.useRef)(I).current,L=(0,c.useState)(f.clusterWidth?f.clusterWidth:k?300:500),F=L[0],Y=L[1],W=(0,c.useState)(f.clusterHeight?f.clusterHeight:k?500:300),Z=W[0],B=W[1];C?(n=(t=Z/(V-1))/2,o=t,i=F+t,s=Z+t):(o=(t=F/(V-1))/2,n=t,i=F+t,s=Z+t);var M=(0,c.useRef)(),P=(0,c.useRef)(),J=(0,c.useRef)(),G=(0,c.useRef)(),X=(0,c.useRef)(),$=(0,c.useState)(),q=$[0],Q=$[1],K=u.Fp7(U.map(function(e){return parseInt(e)})).toString(),ee=(0,d.Z)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=["#1f77b4","#ff7f0e","#2ca02c","#e377c2","#9467bd","#8c564b","#d62728","#cab2d6","#bcbd22","#17becf","#a6cee3","#b2df8a"].filter(function(t){return t!==e}),r=(0,c.useState)(u.w6H(n.length*t)),o=r[0],i=r[1];return[function(){if(o.length<1)throw"colors exhausted! Support at most ".concat(n.length*t," selections");var e=o.shift(),r=n[e%n.length];return i((0,a.Z)(o)),[e,r]},function(e){o.unshift(e),i((0,a.Z)(o))}]}(N),2),et=ee[0],en=ee[1],ea=(0,c.useState)(),er=ea[0],eo=ea[1],ei=function(){E(!C),B(F),Y(Z)},es=function(){var t,n,a={},r=p[q];r.joints.concat(r.leaves).forEach(function(e){a[e]=p[e]}),C?(t=r.leaves.length/p[K].leaves.length*Z,n=r.y/p[K].y*F):(t=r.y/p[K].y*Z,n=r.leaves.length/p[K].leaves.length*F);var o={id:q,mp:a,clusterHeight:parseFloat(t.toFixed(2)),clusterWidth:parseFloat(n.toFixed(2)),horizontal:C,color:O[q].color};e.addData(o)};(0,c.useEffect)(function(){var e,t,a,r,l=u.Ys('[name="'.concat(f.id,'"]')).attr("width",i).attr("height",s).style("background","white");l.on("click",function(e,t){console.log("background click"),Q(void 0),J.current&&J.current.attr("opacity",0),J.current=void 0});var c=l.append("g").attr("transform","translate(".concat(o,",").concat(n,")")),d=[],h=[];U.forEach(function(e){var t=p[e];d.push(t.x),h.push(t.y)});var m=[u.VV$(d),u.Fp7(d)],g=m[0],j=m[1],v=[u.VV$(h),u.Fp7(h)],b=v[0],w=v[1];C?(e=u.BYU([F,0]).domain([b,w]),t=u.BYU([0,Z]).domain([g,j]),a=function(t){return e(t.y)},r=function(e){return t(e.x)},X.current=r):(e=u.BYU([0,F]).domain([g,j]),t=u.BYU([Z,0]).domain([b,w]),a=function(t){return e(t.x)},r=function(e){return t(e.y)},X.current=a);var y=function(e){var t=p[e],n=p[t.link[0]],o=p[t.link[1]];return C?"M ".concat(a(n)," ").concat(r(n),"\n                    H ").concat(a(t),"\n                    V ").concat(r(o),"\n                    H ").concat(a(o)):"M ".concat(a(n)," ").concat(r(n),"\n                    V ").concat(r(t),"\n                    H ").concat(a(o),"\n                    V ").concat(r(o))},k=u.BYU([.5,2]).domain([1e3,5]).clamp(!0)(U.length),_=c.selectAll("path").data(U.filter(function(e){return!p[e].leaf})).enter().append("path").attr("d",function(e){return y(e)}).style("fill","none").style("stroke",function(e){return O[e].color?O[e].color:N}).style("stroke-width",k);M.current=_;var E=c.selectAll("circle").data(U.filter(function(e){return!p[e].leaf})).enter().append("circle").attr("cx",function(e){return a(p[e])}).attr("cy",function(e){return r(p[e])}).attr("r",4).attr("fill",x).attr("opacity",function(e){return O[e].clicked&&e===q?1:0});return E.append("title").text(function(e){return p[e].id===p[e].name?p[e].id:"".concat(p[e].id," ").concat(p[e].name)}),P.current=E,function(){c.remove()}},[F,Z,C]),(0,c.useEffect)(function(){if(console.log("effect2"),P.current){var e,t,n,a,r,o,i,s,l,c=(0,d.Z)((n=O,i=J,[function(e,t){n[t].clicked=!0;var a=(0,d.Z)(et(),2),r=a[0],o=a[1];n[t].initColorIndex=r,Q(t),eo(o),i.current&&i.current.attr("opacity",0),i.current=u.Ys(e.currentTarget),M.current.filter(function(e){return p[t].joints.includes(e)}).style("stroke",o).each(function(e){n[e].color=o,e!==t&&(n[e].parentClicked=!0,n[e].clicked&&en(n[e].initColorIndex),n[e].clicked=!1)})},function(e,t){Q(void 0),n[t].clicked=!1,en(n[t].initColorIndex),n[t].initColorIndex=void 0,M.current.filter(function(e){return p[t].joints.includes(e)}).style("stroke",N).each(function(e){n[e].color=N,n[e].parentClicked=!1}),i.current=void 0},function(e,t){Q(t),eo(n[t].color),i.current&&i.current.attr("opacity",0),i.current=u.Ys(e.currentTarget)}]),3),h=c[0],m=c[1],f=c[2];P.current.on("mouseover",function(e,t){G.current=M.current.filter(function(e){return p[t].joints.includes(e)}).style("stroke","red"),u.Ys(e.currentTarget).attr("opacity",1)}).on("mouseout",function(e,t){G.current.style("stroke",function(e){return O[e].color?O[e].color:N}),t!==q&&u.Ys(e.currentTarget).attr("opacity",0)}).on("click",function(e,t){if(!O[t].parentClicked)switch(e.stopPropagation(),!0){case!O[t].clicked:h(e,t);break;case t===q:m(e,t);break;default:f(e,t)}})}},[q,T,F,Z,C]),(0,c.useEffect)(function(){q&&er!==O[q].color&&(O[q].color=er,M.current.filter(function(e){return p[q].joints.includes(e)}).style("stroke",er).each(function(e){O[e].color=er}))},[er]),(0,c.useEffect)(function(){T&&(M.current&&M.current.style("stroke",x),Q(void 0),U.forEach(function(e){O[e].clicked&&en(O[e].initColorIndex),O[e]={}}),J.current&&J.current.attr("opacity",0),J.current=void 0,y(x),A(!1))},[T]),(0,c.useEffect)(function(){P.current&&P.current.selectChild().text(function(e){return p[e].id===p[e].name?p[e].id:"".concat(p[e].id," ").concat(p[e].name)})},[e.gc]);var el=function(t){p[f.id].name=t.value,e.setGc(e.gc+1)},ec=C?"h":"v",ed=1===e.countData()?"":"m",eu=function(){var e=document.createElement("form");e.setAttribute("method","post"),e.setAttribute("action","http://amp.pharm.mssm.edu/Enrichr/enrich"),e.setAttribute("target","_blank"),e.setAttribute("enctype","multipart/form-data");var t=document.createElement("input");t.setAttribute("type","hidden"),t.setAttribute("name","list"),t.setAttribute("value",D.join("\n")),e.appendChild(t);var n=document.createElement("input");n.setAttribute("type","hidden"),n.setAttribute("name","description"),n.setAttribute("value",f.id),e.appendChild(n),document.body.appendChild(e),e.submit(),document.body.removeChild(e)};return(0,r.jsxs)("div",{className:"dendro-div-".concat(ec).concat(ed),children:[(0,r.jsxs)("div",{className:"dendro-comp-".concat(ec),children:[(0,r.jsxs)("div",{className:"dendro-ctrl-".concat(ec),children:["whole"!==f.id&&(0,r.jsxs)("span",{children:[(0,r.jsx)(v.y,{style:{width:"50px"},defaultValue:p[f.id].name,inline:!0,onSave:el}),(0,r.jsx)("button",{onClick:function(t){return e.rmData(f.id)},children:(0,r.jsx)(g.$iT,{className:"d-icon"})})]}),(0,r.jsxs)("button",{onClick:function(e){return A(!0)},children:[" ",(0,r.jsx)(g._W0,{className:"d-icon"})," "]}),m(D)&&(0,r.jsx)("button",{onClick:function(e){return eu()},children:(0,r.jsx)(g.RcW,{className:"d-icon"})}),(0,r.jsx)("button",{onClick:function(e){return R(!H)},style:H?{background:"#ffe3a9"}:{},children:(0,r.jsx)(g.xs2,{className:"d-icon"})}),(0,r.jsxs)("button",{onClick:function(e){return l()},children:[(0,r.jsx)(g.hiA,{className:"d-icon"}),(0,r.jsx)(g.xbJ,{className:"d-icon"})]}),(0,r.jsxs)("button",{onClick:function(e){return h()},children:[(0,r.jsx)(g.hiA,{className:"d-icon"}),(0,r.jsx)(g.Qz$,{className:"d-icon"})]}),(0,r.jsx)("button",{onClick:function(e){return ei()},children:C?(0,r.jsx)(g.NqI,{className:"d-icon"}):(0,r.jsx)(g.vCY,{className:"d-icon"})}),(0,r.jsx)("input",{type:"number",className:"input-wh",value:F,min:"50",step:"50",onChange:function(e){Y(parseFloat(e.target.value))}}),(0,r.jsx)("input",{type:"number",className:"input-wh",value:Z,min:"50",step:"50",onChange:function(e){B(parseFloat(e.target.value))}}),q&&(0,r.jsxs)("span",{children:[(0,r.jsx)("button",{onClick:function(e){return es()},disabled:e.hasDendro(q),children:(0,r.jsx)(g.AE5,{className:"d-icon"})}),(0,r.jsx)("span",{className:"ctrl-info",children:p[q].name}),(0,r.jsx)("input",{style:{height:"23px",width:"48px"},type:"color",onChange:function(e){return eo(e.target.value)},value:er})]})]}),(0,r.jsxs)("div",{className:"dendro-svg-div-".concat(ec),children:[H&&(0,r.jsx)("textarea",{style:{height:"".concat(s,"px")},readOnly:!0,value:D.join("\n")}),(0,r.jsx)("svg",{name:f.id,className:"dendro-svg-".concat(ec)})]})]}),f.imgUrl&&(0,r.jsx)(j,{horizontal:C,width:i,height:s,imgUrl:f.imgUrl})]})}function w(){var e=["OS","Version","Chrome","Firefox","Microsoft Edge","Safari"].map(function(e){return(0,r.jsx)("td",{children:e},e)}),t=[["Linux","Debian 11"," 108.0.5359.94","not work*","n/a","n/a"],["MacOS","Monterey"," 108.0.5359.98","107.0.1","n/a","15.4"],["Windows","10"," 108.0.5359.73","107.0.1","107.0.1418.62","n/a"]].map(function(e){return(0,r.jsx)("tr",{children:e.map(function(e,t){return(0,r.jsx)("td",{children:e},e+t)})},e.join(""))});return(0,r.jsxs)("div",{className:"help-container",children:[(0,r.jsx)("div",{className:"help-row",children:"DendroX provides scalable interactive visualization of a dendrogram where users can select and subset the dendrogram at any level and in any number of clusters. The labels of the selected clusters can then be passed for functional analysis.  "}),(0,r.jsxs)("div",{className:"help-row",children:[(0,r.jsx)("span",{className:"row-head",children:"JSON file:"})," A file that describes a dendrogram in JSON format. It should be output from the R or Python get_json function provided by us. The function accept return value from the Python seaborn.clustermap or R pheatmap function as argument. Demos and example input files could be found  ",(0,r.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/frlender/dendrox-app/tree/main/input_demo",children:"here"}),". "]}),(0,r.jsxs)("div",{className:"help-row",children:[(0,r.jsx)("span",{className:"row-head",children:"Image file:"})," An optional .png or .jpg image file that contains the heatmap associated with the dendrogram. Usually, they are the plotted images of the clustermap or pheatmap function. "]}),(0,r.jsxs)("div",{className:"help-row",children:[(0,r.jsx)("span",{className:"row-head",children:"Horizontal Example:"})," Example of a row dendrogram. (Link to loaded files: ",(0,r.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/frlender/dendrox-app/blob/main/nodes_row.json",children:"json"}),", ",(0,r.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/frlender/dendrox-app/blob/main/py_image_50.png",children:"png"}),".) "]}),(0,r.jsxs)("div",{className:"help-row",children:[(0,r.jsx)("span",{className:"row-head",children:"Vertical Example:"})," Example of a column dendrogram. (Link to loaded files: ",(0,r.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/frlender/dendrox-app/blob/main/nodes_col.json",children:"json"}),", ",(0,r.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/frlender/dendrox-app/blob/main/py_image_50.png",children:"png"}),".)"]}),(0,r.jsxs)("div",{className:"help-row",children:[(0,r.jsx)("span",{className:"row-head",children:"2k Example:"})," Example of a row dendrogram with 2,000 leaf nodes. (Link to loaded files: ",(0,r.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/frlender/dendrox-app/blob/main/nodes_row_2k.json",children:"json"}),", ",(0,r.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/frlender/dendrox-app/blob/main/py_image_2k.png",children:"png"}),".) "]}),(0,r.jsx)("div",{className:"help-row help-extra2",children:"After a JSON file is selected:"}),(0,r.jsxs)("div",{className:"help-row",children:[(0,r.jsx)("span",{className:"row-head",children:"Visualize:"})," Visualize the dendrogram described in the JSON file."]}),(0,r.jsxs)("div",{className:"help-row",children:[(0,r.jsx)("span",{className:"row-head",children:"Horizontal:"})," Visualize it as a row dendrogram. Default."]}),(0,r.jsxs)("div",{className:"help-row",children:[(0,r.jsx)("span",{className:"row-head",children:"Vertical:"})," Visualize it as a column dendrogram."]}),(0,r.jsx)("div",{className:"help-row help-extra3",children:"Browser Compatibility:"}),(0,r.jsxs)("div",{className:"help-row",children:[(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsx)("tr",{children:e})}),(0,r.jsx)("tbody",{children:t})]}),(0,r.jsx)("div",{className:"help-annot",children:"*The app is functional. But because of some default CSS settings we can not change, the dendrogram and the heatmap do not align well with each other."}),(0,r.jsx)("div",{className:"help-row help-extra2",children:"DendroX keep users' data local and private. The input files are not saved or viewable on the hosting server. "}),(0,r.jsx)("div",{className:"help-row help-extra3",children:" This website is free and open to all users and there is no login requirement. "})]})]})}function N(){return(0,r.jsxs)("div",{className:"help-container",children:[(0,r.jsx)("div",{className:"help-row",children:"Mouse over a non-leaf node in the dendrogram to highlight a cluster. Click on a non-leaf node to select a cluster. Click again to unselect it. Click on any white space to unfocus a selected non-leaf node. The app will automatically assign a color to a clicked cluster. If a cluster heatmap image is provided, drag your mouse over the heatmap area to select it and click the crop button to crop. The cropped heatmap should be aligned with the dendrogram."}),(0,r.jsxs)("div",{className:"help-row",children:[(0,r.jsx)("button",{children:(0,r.jsx)(g._W0,{className:"d-icon"})})," :  The reset button. Remove any selection on the dendrogram and reset it to the initial state. "]}),(0,r.jsxs)("div",{className:"help-row",children:[(0,r.jsx)("button",{children:(0,r.jsx)(g.RcW,{className:"d-icon"})})," : The Enichr button. Pass the labels of the leaf nodes as gene symbols to the ",(0,r.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://maayanlab.cloud/Enrichr/",children:"Enrichr app"})," for gene set enrichment analysis. DendroX will automatically detect if the labels are gene symbols. If they are not, this button will not show. ",(0,r.jsx)("span",{className:"row-head",children:"Caution! : the Enrichr app may save your gene list in its server."})," Users are free to copy the labels using the view button below and pass them to a functional annotation app they prefer. "]}),(0,r.jsxs)("div",{className:"help-row",children:[(0,r.jsx)("button",{children:(0,r.jsx)(g.xs2,{className:"d-icon"})})," : The view button. View the the labels of the leaf nodes in a text box on the left. Click again to close the box. "]}),(0,r.jsxs)("div",{className:"help-row",children:[(0,r.jsxs)("button",{children:[(0,r.jsx)(g.hiA,{className:"d-icon"}),(0,r.jsx)(g.xbJ,{className:"d-icon"})]}),' :  The label download button. Download the labels as a newline character delimited text file. The file name will be the name of the root node. "whole" is the default name for the input dendrogram.']}),(0,r.jsxs)("div",{className:"help-row",children:[(0,r.jsxs)("button",{children:[(0,r.jsx)(g.hiA,{className:"d-icon"}),(0,r.jsx)(g.Qz$,{className:"d-icon"})]}),' : The SVG download button. Download the dendrogram as a SVG file edittable in Adobe Illustrator and Inkscape. The file name will be the name of the root node. "whole" is the default name for the input dendrogram. ']}),(0,r.jsxs)("div",{className:"help-row",children:[" ",(0,r.jsx)("button",{children:(0,r.jsx)(g.NqI,{className:"d-icon"})})," / ",(0,r.jsx)("button",{children:(0,r.jsx)(g.vCY,{className:"d-icon"})})," : The layout switch button. Switch the dendrogram between the row and the column layout."]}),(0,r.jsxs)("div",{className:"help-row",children:[" ",(0,r.jsx)("input",{type:"number",className:"input-wh",value:300,min:"50",step:"50"}),(0,r.jsx)("input",{type:"number",className:"input-wh",value:500,min:"50",step:"50"}),"  : Control the width and height of the dendrogram."]}),(0,r.jsx)("div",{className:"help-row help-extra",children:" If the input includes an optional image file, the following elements will appear above the image: "}),(0,r.jsxs)("div",{className:"help-row",children:[(0,r.jsx)("button",{children:(0,r.jsx)(g.IpJ,{className:"d-icon"})})," : The crop button. Click to crop after an area is selected in the image. "]}),(0,r.jsxs)("div",{className:"help-row",children:[(0,r.jsx)("input",{type:"number",className:"input-wh",value:550,min:"50",step:"50"}),"  : Control the width or height of the image depending on whether the associated dendrogram is a row or column dendrogram. "]}),(0,r.jsx)("div",{className:"help-row help-extra",children:"After a non-leaf node is clicked, the following elements will appear:"}),(0,r.jsxs)("div",{className:"help-row",children:[(0,r.jsx)("button",{children:(0,r.jsx)(g.AE5,{className:"d-icon"})})," : The cut button. Create a new dendrogram for the selected cluster. It is disabled after creation of the new dendrogram."]}),(0,r.jsxs)("div",{className:"help-row",children:[(0,r.jsx)("span",{className:"ctrl-info",children:"###"})," : The name of the clicked non-leaf node. It is not edittable."]}),(0,r.jsxs)("div",{className:"help-row",children:[(0,r.jsx)("input",{style:{height:"23px",width:"48px"},type:"color",value:"#1f77b4"})," : The color input box. Click to change the automatically assigned color of the selected cluster."]}),(0,r.jsx)("div",{className:"help-row help-extra",children:"After the cut button is clicked and a new dendrogram is created, the following elements will appear above the child dendrogram:"}),(0,r.jsxs)("div",{className:"help-row",children:[(0,r.jsx)(v.y,{style:{width:"50px"},defaultValue:"###",inline:!0})," : The name of the child dendrogram. It is edittable. Defaults to the name of the root node. Any change to the name will be memorized in the parent dendrogram."]}),(0,r.jsxs)("div",{className:"help-row",children:[" ",(0,r.jsx)("button",{children:(0,r.jsx)(g.$iT,{className:"d-icon"})})," : The close button. Close the child dendrogram. "]}),(0,r.jsx)("div",{className:"help-row help-extra",children:"After the image is cropped, the following button will appear:"}),(0,r.jsxs)("div",{className:"help-row",children:[(0,r.jsx)("button",{children:(0,r.jsx)(g.Z4w,{className:"d-icon"})})," : The undo button. Undo the crop action. "]})]})}n(6798);var y=function(){var e=(0,c.useState)([]),t=e[0],n=e[1],o=(0,c.useState)(),s=o[0],d=o[1],u=(0,c.useState)(0),h=u[0],m=u[1],f=(0,c.useState)(!0),p=f[0],x=f[1],j=function(e){"horizontal"===e.target.value?x(!0):x(!1)},v=function(e){t.map(function(e){return e.id}).includes(e.id)||(t.push(e),n((0,a.Z)(t)))},y=function(e){n(t.filter(function(t){return t.id!==e}))},k=function(e){return t.map(function(e){return e.id}).includes(e)},_=function(){return t.length},C=function(e){var t=e.target.files[0];new Response(t).json().then(function(e){d([{id:"whole",mp:e}])})},E=function(e){var t=e.target.files[0];new Response(t).blob().then(function(e){var t=URL.createObjectURL(e);s[0].imgUrl=t,d((0,a.Z)(s))})},S=function(){s[0].horizontal=p,n(s)},T=function(e){var t,a,r,o={row:{file:"nodes_row.json",img:"py_image_50.png"},col:{file:"nodes_col.json",img:"py_image_50.png"},"2k":{file:"nodes_row_2k.json",img:"py_image_2k.png"}};["row","2k"].includes(e)?(t=300,a=500,r=!0):(t=500,a=100,r=!1),fetch(o[e].file).then(function(e){return e.json()}).then(function(i){n([{id:"whole",mp:i,imgUrl:o[e].img,clusterWidth:t,clusterHeight:a,horizontal:r}])})},A=function(e){return(0,r.jsx)(b,{data:e,addData:v,rmData:y,hasDendro:k,countData:_,gc:h,setGc:m},e.id)},z=t.map(A);return(0,c.useEffect)(function(){var e=new Date().getFullYear();document.getElementsByClassName("footer-inner")[0].textContent="2015-".concat(e," 3D Medicines Corporation")},[]),(0,r.jsxs)("div",{className:l().container,children:[(0,r.jsxs)(i(),{children:[(0,r.jsx)("title",{children:"DendroX"}),(0,r.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsxs)("main",{className:0===t.length?l().main:l().main2,children:[(0,r.jsx)("div",{className:"header",children:"DendroX"}),0===t.length&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"input-row",children:[(0,r.jsxs)("div",{className:"input-col",children:[(0,r.jsx)("div",{className:"input-label",children:"JSON file:"}),(0,r.jsx)("input",{className:"input-file",onChange:C,type:"file",accept:".json"})]}),(0,r.jsxs)("div",{className:"input-col",children:[(0,r.jsx)("div",{className:"input-label",children:"Image file (optional):"}),(0,r.jsx)("input",{className:"input-file",onChange:E,type:"file",accept:".png,.jpg"})]}),s&&(0,r.jsxs)("span",{className:"example",children:[(0,r.jsx)("button",{className:"button-big",onClick:function(e){return S()},children:"Visualize"}),(0,r.jsxs)("span",{className:"radios",onChange:j,children:[(0,r.jsx)("input",{type:"radio",className:"radio",name:"layout",defaultChecked:!0,value:"horizontal"}),(0,r.jsxs)("label",{children:["Horizontal",(0,r.jsx)(g.NqI,{className:"input-icon"})]}),(0,r.jsx)("input",{type:"radio",className:"radio",name:"layout",value:"vertical"}),(0,r.jsxs)("label",{children:["Vertical",(0,r.jsx)(g.vCY,{className:"input-icon"})]})]})]}),!s&&(0,r.jsxs)("span",{className:"example",children:[(0,r.jsx)("button",{className:"button-big",onClick:function(e){return T("row")},children:"Horizontal example"}),(0,r.jsx)("button",{className:"button-big",onClick:function(e){return T("col")},children:"Vertical example"}),(0,r.jsx)("button",{className:"button-big",onClick:function(e){return T("2k")},children:"2k example"})]})]}),(0,r.jsx)(w,{})]}),t.length>0&&(0,r.jsx)("div",{className:"dendros-div",children:z})]}),t.length>0&&(0,r.jsx)(N,{}),(0,r.jsx)("footer",{className:"footer",children:(0,r.jsx)("div",{className:"footer-inner",children:"abc corporation"})})]})}},214:function(e){e.exports={container:"Home_container__bCOhY",main:"Home_main__nLjiQ",main2:"Home_main2__gd2dG",footer:"Home_footer____T7K",title:"Home_title__T09hD",description:"Home_description__41Owk",code:"Home_code__suPER",grid:"Home_grid__GxQ85",card:"Home_card___LpL1",logo:"Home_logo__27_tb"}}},function(e){e.O(0,[57,558,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);